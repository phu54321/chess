const pxMove = $L("pxMove");

function setLocationPos(locId, x, y, w, h) {
    SetMemoryEPD(EPD(0x58DC4C) + 5 * locId + 0, SetTo, x);
    SetMemoryEPD(EPD(0x58DC4C) + 5 * locId + 1, SetTo, y);
    SetMemoryEPD(EPD(0x58DC4C) + 5 * locId + 2, SetTo, x + w);
    SetMemoryEPD(EPD(0x58DC4C) + 5 * locId + 3, SetTo, y + h);
}

function getLocationPos(locId) {
    const x0 = dwread_epd(EPD(0x58DC4C) + 5 * locId + 0);
    const y0 = dwread_epd(EPD(0x58DC4C) + 5 * locId + 1);
    const x1 = dwread_epd(EPD(0x58DC4C) + 5 * locId + 2);
    const y1 = dwread_epd(EPD(0x58DC4C) + 5 * locId + 3);
    return x0, y0, x1 - x0, y1 - y0;
}

var c11x, c11y = -1, -1;
function moveCLoc(x, y) {
    if (c11x == -1) {
        c11x, c11y = getLocationPos($L('c11'))[[0, 1]];
    }
    setLocationPos($L('cLoc'), c11x + (x - 1) * 64, c11y + (y - 1) * 64, 64, 64);
}

function pxMoveTo(x, y) {
    setLocationPos(pxMove, x, y, 0, 0);
}
